import{K as u,G as p,j as d}from"./index-BYtlHEAg.js";const n={list(){return u.get("/budgets")},create(e){return u.post("/budgets",e)},update(e,r){return u.patch(`/budgets/${e}`,r)},remove(e){return u.delete(`/budgets/${e}`)}},b=p("budgets",()=>{const e=d([]),r=d(!1),c=d(!1);async function i(){r.value=!0;try{const{data:t}=await n.list();t.success&&(e.value=t.data,c.value=!0)}finally{r.value=!1}}async function l(t){const{data:a}=await n.create(t);if(!a.success)throw new Error(a.message);return e.value.push(a.data),a.data}async function f(t,a){const{data:s}=await n.update(t,a);if(!s.success)throw new Error(s.message);const o=e.value.findIndex(v=>v.id===t);return o!==-1&&(e.value[o]=s.data),s.data}async function g(t){const{data:a}=await n.remove(t);if(!a.success)throw new Error(a.message);e.value=e.value.filter(s=>s.id!==t)}return{budgets:e,loading:r,loaded:c,fetchBudgets:i,createBudget:l,updateBudget:f,deleteBudget:g}});export{b as u};
